 pipeline{
  agent any
  
  
  
  stages{
    stage('Compile Stage'){
      steps{
        script {
          if (isUnix()) {
               sh "mvn -Dmaven.test.failure.ignore=true clean package"
            } else {
            
                bat "mvn -Dmaven.test.failure.ignore=true clean package"
            }
        }
        
     }
      post{
      success {
                    junit '**/target/surefire-reports/TEST-*.xml'
                    archiveArtifacts 'target/*.jar'
        
        
        
       
                }
      
      
      
      
      
      
      }
   
      
    
  }
  stage('jfrogserver'){
  
  steps{rtServer (
    id: 'jfrogartifact28',
    url: 'https://jfrogartifact28.jfrog.io/ui/admin/artifactory',
    // If you're using username and password:
    username: 'shreyag',
    password: 'Shreya@123',
    )
  
  }
  }
}

}
